{"controller":" [\"$scope\", \"views\", \"menus\", \"tasks\", function ($scope, views, menus, tasks) {\n    var initStyle = function () {\n        var keys = Object.keys($scope.menus);\n        $scope.style2 = {\n            width: 94 / keys.length + '%'\n        };\n        for (var k in keys) {\n            //ie9\u4e0d\u652f\u6301findIndex\n            if (keys[k] === $scope.active_menu) {\n                break;\n            }\n        }\n        $scope.style = {\n            left: k * 94 / keys.length + 3 + '%'\n        };\n    };\n    $scope.menus = menus({\n        \u4e3b\u9875: {path: 'work/main'},\n        \u65e5\u5fd7: {path: 'board/main'},\n        \u76f8\u518c: {path: 'operat/main'},\n        \u7559\u8a00\u677f: {path: 'report/main'},\n        \u8bf4\u8bf4: {path: 'setting/main'}\n    });\n    -function () {\n        for (var k in $scope.menus) {\n            $scope.menus[k].tasks = tasks.routine(k)();\n        }\n    }();\n\n    $scope.active = function (menu_name) {\n        $scope.active_menu = menu_name;\n        views.main && views.main.open($scope.menus[menu_name].path);\n        initStyle();\n        tasks.routine(menu_name);\n        $scope.$Save(\"menus\", \"active_menu\");\n    };\n    if (!$scope.active_menu) {\n        $scope.active('\u4e3b\u9875');\n    }\n    initStyle();\n}]","template":"<style>.common-menu {\n  text-align: center;\n}\n.common-menu .scroll {\n  display: none;\n}\n.common-menu .menu {\n  font-size: 16px;\n  display: inline-block;\n  height: 50px;\n  line-height: 50px;\n  max-width: 850px;\n  width: 100%;\n  position: relative;\n}\n.common-menu .menu > div {\n  position: relative;\n  width: 19%;\n  margin: 0;\n  padding: 0;\n  height: 50px;\n  display: inline-block;\n  color: #495467;\n  cursor: default;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n}\n.common-menu .menu > div > span {\n  display: inline-block;\n  height: 49px;\n  line-height: 49px;\n  box-sizing: border-box;\n  border-bottom: 3px solid transparent;\n  position: relative;\n}\n.common-menu .menu > div > span > i {\n  width: 20px;\n  height: 20px;\n  font-size: 16px;\n  line-height: 20px;\n  text-align: center;\n  background-color: #f00;\n  color: #fff;\n  display: block;\n  position: absolute;\n  z-index: 999999;\n  right: -16px;\n  top: 0;\n  border-radius: 50%;\n}\n.common-menu .menu > div > span > i.ng-enter {\n  -webkit-animation: 1s rotate-color;\n          animation: 1s rotate-color;\n}\n.common-menu .menu > div.active > span {\n  color: #5f6b7e;\n}\n.common-menu .menu > div:hover {\n  background-color: rgba(67, 133, 245, 0.1);\n}\n.common-menu .menu > div:active {\n  background-color: rgba(67, 133, 245, 0.2);\n}\n.common-menu .menu > div:nth-child(1) {\n  position: absolute;\n  -webkit-transition: left 0.2s ease-out;\n  transition: left 0.2s ease-out;\n}\n.common-menu .menu > div:nth-child(1) > span {\n  color: transparent;\n  border-bottom: 3px solid #15a4fa;\n}\n@-webkit-keyframes rotate-color {\n  0% {\n    background-color: #f00;\n  }\n  30% {\n    background-color: #080;\n  }\n  67% {\n    background-color: #00f;\n  }\n}\n@keyframes rotate-color {\n  0% {\n    background-color: #f00;\n  }\n  30% {\n    background-color: #080;\n  }\n  67% {\n    background-color: #00f;\n  }\n}\n</style><div class=\"menu\">\n    <div ng-style=\"style\"><span ng-bind=\"active_menu\"></span></div>\n    <div ng-repeat=\"(_,s) in menus\" ng-style=\"style2\" ng-click=\"active(_,$event)\" ng-class=\"{'active':active_menu===_}\">\n        <span>{{_}}<i ng-bind=\"s.tasks.length\" ng-if=\"s.tasks.length\"></i></span>\n    </div>\n</div>"}