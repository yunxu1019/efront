{"controller":" [\"$scope\", \"tasks\", \"hashMap\", \"$document\", \"splitElements\", function ($scope, tasks, hashMap, $document, splitElements) {\n    $scope.tasks = tasks();\n    var map = hashMap();\n    $scope.tasks.forEach(function (task) {\n        map(task, true);\n    });\n\n    $scope.open = function (task, $event) {\n        if ($event && $event.target.tagName.toLowerCase() === 'i') {\n            tasks.off(task);\n            map.drop(task);\n            tasks.save();\n            if (!$scope.tasks.length) {\n                history.back();\n            }\n            if (task === $scope.active_task) {\n                $scope.open($scope.tasks[0]);\n            }\n        } else if (task) {\n            $scope.active_task = task;\n            if (!map(task)) {\n                tasks.on(task);\n                map(task, true);\n                tasks.save();\n            }\n            $scope.$Save(\"active_task\", \"option_groups\");\n        }\n    };\n    var dragger = null, predragger = null;\n\n    var ondragmove = function (event) {\n        if (dragger) {\n            var target = dragger.target;\n            if (dragger.isdrag) {\n                angular.element(target).css({\n                    \"position\": \"absolute\"\n                });\n            }\n            var deltaX = event.clientX - dragger.x;\n            if (target.scrollLeft > 0 && deltaX > 0) {\n                deltaX = deltaX > target.scrollLeft ? target.scrollLeft : deltaX;\n            } else if (target.scrollLeft + target.offsetWidth < target.scrollWidth && deltaX < 0) {\n                var deltaW = target.scrollLeft + target.offsetWidth - target.scrollWidth;\n                deltaX = deltaW > deltaX ? deltaW : deltaX;\n            } else {\n                deltaX = 0;\n            }\n            target.scrollLeft -= deltaX;\n            dragger.x += deltaX;\n            dragger.y = event.clientY;\n        } else if (predragger) {\n            if (Math.abs(event.clientX - predragger.x) > 7) {\n                dragger = predragger;\n            }\n        }\n    };\n    var ondragend = function () {\n        $document.off(\"onmousemove\", ondragmove);\n        $document.off(\"onmouseup\", ondragend);\n        dragger = null, predragger = null;\n    };\n    var splitter = null;\n    $scope.dragstart = function (event) {\n        var target = event.target;\n        predragger = {x: event.clientX, y: event.clientY, target: target, isdrag: false};\n        for (var inc = 0; inc < 2; inc++) {\n            if (target.hasAttribute && target.hasAttribute(\"ng-repeat\")) {\n                predragger.isdrag = true;\n                predragger.target = target;\n            }\n            target = target.parentNode;\n            splitter = splitElements(angular.element(target));\n        }\n        $document.on(\"mousemove\", ondragmove);\n        $document.on(\"mouseup\", ondragend);\n    };\n    $scope.init = function (event) {\n        console.log(event);\n    };\n    $scope.back = function () {\n        history.back();\n    };\n}]","template":"<style>.setting-detail > .scroll-content > .Scroller-Container {\n  padding: 0;\n  background-color: #f2f4fa;\n}\n.setting-detail .cy {\n  display: table;\n  height: 45px;\n  position: relative;\n  color: #333f57;\n  white-space: nowrap;\n  width: 100%;\n}\n.setting-detail .cy > div {\n  display: table-cell;\n  vertical-align: middle;\n  position: relative;\n}\n.setting-detail .cy > .back {\n  height: 45px;\n  line-height: 45px;\n  padding: 0 10px 0 27px;\n  -webkit-transition: padding-left 0.1s ease-out;\n  transition: padding-left 0.1s ease-out;\n  cursor: pointer;\n}\n.setting-detail .cy > .back:before {\n  content: '';\n  height: 6px;\n  width: 6px;\n  border: 2px solid;\n  border-bottom: none;\n  border-right: none;\n  display: block;\n  position: absolute;\n  left: 13px;\n  top: 50%;\n  margin-top: -4px;\n  -webkit-transform: rotate(-45deg);\n      -ms-transform: rotate(-45deg);\n          transform: rotate(-45deg);\n}\n.setting-detail .cy > .back:hover {\n  color: #4385f5;\n  /*padding-left: 33px;*/\n}\n.setting-detail .cy > .back:hover:active {\n  color: #4385f5;\n  /*padding-left: 27px;*/\n}\n.setting-detail .cy > .item {\n  padding: 0;\n  margin: 0;\n}\n.setting-detail .cy > .item > div {\n  top: 0;\n  line-height: 45px;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n}\n.setting-detail .cy > .item > div > div {\n  margin: 0 12px;\n  display: inline-block;\n  height: 22px;\n  width: auto;\n  padding: 0 10px;\n  border-radius: 11px;\n  line-height: 20px;\n  border: 1px solid #e8e8f0;\n  color: #333f57;\n  cursor: pointer;\n  background-color: #fff;\n  position: relative;\n}\n.setting-detail .cy > .item > div > div > .icon {\n  display: none;\n  border-radius: 7px;\n  border: 2px solid transparent;\n  position: absolute;\n  right: -9px;\n  top: 20%;\n  margin-top: -7px;\n  width: 14px;\n  height: 14px;\n}\n.setting-detail .cy > .item > div > div:hover {\n  color: #15a4fa;\n  border-color: #15a4fa;\n}\n.setting-detail .cy > .item > div > div:hover > .icon {\n  border: 1px solid #b0b0b0;\n  background-color: #fff;\n  display: block;\n}\n.setting-detail .cy > .item > div > div:hover > .icon:hover {\n  border: none;\n  background-color: #db4437;\n}\n.setting-detail .cy > .item > div > div.current,\n.setting-detail .cy > .item > div > div.current:hover {\n  border: none;\n  color: #ffffff;\n  line-height: 22px;\n  background-color: #15a4fa;\n}\n.setting-detail .cy > .title {\n  padding: 0 12px;\n  font-size: 18px;\n  line-height: 45px;\n  height: 45px;\n  text-align: center;\n  position: relative;\n}\n.setting-detail .cy > .title > div:nth-child(1) {\n  width: 100%;\n  height: 100%;\n  display: block;\n}\n.setting-detail .cy > .title > div:nth-child(1):before {\n  content: \"\";\n  display: inline-block;\n  width: 8px;\n  height: 8px;\n  vertical-align: middle;\n  background-color: #15a4fa;\n}\n.setting-detail .cy > .title > div:nth-child(2) {\n  display: none;\n  position: absolute;\n  text-align: left;\n  height: auto;\n  background-color: #fff;\n  width: 100%;\n  z-index: 99999999;\n}\n.setting-detail .cy > .title > div:nth-child(2) > .option-group {\n  height: auto;\n  background-color: #999;\n  color: #fff;\n}\n.setting-detail .cy > .title > div:nth-child(2) > .option-group > .option {\n  height: auto;\n  background-color: #fff;\n  color: #324057;\n}\n.setting-detail .cy > .title > div:nth-child(2) > .option-group > .option > div {\n  padding: 0 15px;\n  font-size: 16px;\n  height: 30px;\n  line-height: 30px;\n}\n.setting-detail .cy > .title > div:nth-child(2) > .option-group > .option > div:hover {\n  background-color: #f7f7f9;\n}\n.setting-detail .cy > .title:hover > div:nth-child(2) {\n  display: block;\n  overflow: visible;\n}\n.setting-detail .main-content {\n  position: absolute;\n  top: 45px;\n  left: 0px;\n  right: 0px;\n  bottom: 0;\n}\n.setting-detail .main-content .noscroll-content {\n  height: 100%;\n  padding: 0 10px;\n}\n</style><div class=\"cy\" ng-style=\"{'backgroundColor':active_task.path==='info/company1'?'#f2f4fa':'#ffffff'}\">\n    <div class='back' ng-click=\"back()\" style=\"width:60px;\">\u8fd4\u56de</div>\n    <div class=\"title\" style=\"width:120px;\">\n        <div >\n            \u5e38\u7528\u64cd\u4f5c\n        </div>\n        <div>\n            <div class=\"option-group\" ng-repeat=\"options in option_groups\">\n                <!--<div ng-bind=\"options.name\"></div>-->\n                <div class=\"option\"><div ng-repeat=\"option in options.list\" ng-bind=\"option.name\" ng-click=\"open(option)\" ></div></div>\n            </div>\n        </div>\n    </div>\n    <div style=\"width:auto;\" class=\"item\">\n        <div ng-mousedown=\"dragstart($event)\">\n            <div ng-repeat=\"task in tasks\" ng-click=\"open(task, $event)\" ng-class=\"{'current':task.name === active_task.name}\">\n                <span ng-bind=\"task.name\">\u96f6\u552e\u8003\u6838</span>\n                <i icon='images/close.png' hover-color='#fff' color='#b0b0b0'></i>\n            </div>\n        </div>\n    </div>\n</div>\n<view-content name=\"setting\" ng-view=\"/setting/{{active_task.path}}\" class=\"main-content\" noscroll></view-content>"}