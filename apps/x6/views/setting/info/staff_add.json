{"controller":"[\"$scope\", \"views\", \"popup\", \"tasks\", \"api\", \"cache\", \"alert\", function($scope,views,popup,tasks, api,cache,alert){\t\n    $scope.$ViewTitle='\u65b0\u589e\u5458\u5de5\u4fe1\u606f';    \n    $scope.gsname=[];//\u516c\u53f8\n    $scope.gwname=[];//\u5c97\u4f4d\n    $scope.sex=[];//\u6027\u522b\n    $scope.allowname=[];//\u6743\u9650\n    $scope.zaizhistatus=[];//\u5728\u804c\u72b6\u6001\n    $scope.xlname=[];\n    var gsList=[];\n    var gwList=[];    \n    api('/x6/getXtGsList.do', {}).onsuccess(function (data) {          \n        gsList=data.gsList;       \n        for(var i=0;i<gsList.length;i++){\n        \t$scope.gsname.push(gsList[i].name);       \t\n        }\r\n    })\n    api('/x6/loadGwxxList.do', {}).onsuccess(function (data) {          \n        gwList=data.gwxxList;      \n        for(var i=0;i<gwList.length;i++){\n        \t$scope.gwname.push(gwList[i].name);       \t\n        }\n    })\n    $scope.sex=[\"\u7537\",\"\u5973\"];\n    $scope.allowname=[\"\u4e0d\u5141\u8bb8\",\"\u5141\u8bb8\"];\n    $scope.zaizhistatus=[\"\u5728\u804c\",\"\u79bb\u804c\"];\n    $scope.xlname=[\"\u7814\u7a76\u751f\",\"\u672c\u79d1\",\"\u5927\u4e13\"];\n    $scope.user={};\n    $scope.user.sexname=\"\u7537\";\n    $scope.user.allow=\"\u5141\u8bb8\"; \n    $scope.user.cbjm=0;\n    $scope.user.dy=0;\n    $scope.user.dc=0;\n    $scope.user.zaizhi0=true;\n    $scope.choosezaizhi0=function(){    \t\n    \t$scope.user.zaizhi1=false;\n    \t$scope.user.zaizhi0=true;  \n    \t$scope.user.zaizhi=\"\u5728\u804c\"\n    }\n    $scope.choosezaizhi1=function(){    \t\n    \t$scope.user.zaizhi0=false; \n    \t$scope.user.zaizhi1=true; \n    \t$scope.user.zaizhi=\"\u79bb\u804c\";\n    }\n    $scope.$ViewOptions={\n\t\t\"\u4fdd\u5b58\":function(){\n\t\t\tfor(var i=0;i<gsList.length;i++){\r\n\t    \t\tif($scope.user.gs==gsList[i].name){\r\n\t    \t\t\t$scope.user.ssgsid=gsList[i].id;\r\n\t    \t\t}\r\n\t    \t}\r\n\t\t\t\r\n\t    \tfor(var i=0;i<gwList.length;i++){\t    \t\t\r\n\t    \t\tif($scope.user.gw==gwList[i].name){\r\n\t    \t\t\t$scope.user.gwid=gwList[i].id;\r\n\t    \t\t}\r\n\t    \t} \r\n\t    \t$scope.user.sex=$scope.user.sexname==\"\u7537\"?0:1;\r\n\t    \t$scope.user.allowlogin=$scope.user.allow==\"\u5141\u8bb8\"?1:0;\r\n\t    \t$scope.user.yxbz=$scope.user.zaizhi==\"\u5728\u804c\"?0:1;    \t\r\n\t    \t$scope.user.iscbjm=$scope.user.cbjm==true?1:0;\r\n\t    \t$scope.user.isdc=$scope.user.dc==true?1:0;\r\n\t    \t$scope.user.isdy=$scope.user.dy==true?1:0;\r\n\t    \t//var time=new Date();    \t\r\n\t    \tif(!$scope.user.cxts){\r\n\t    \t\t$scope.user.cxts=0;\r\n\t    \t}\r\n\t    \tvar flags={\r\n\t    \t\t\"dc\":$scope.user.isdc,\r\n\t    \t\t\"dy\":$scope.user.isdy,\r\n\t    \t\t\"cxts\":$scope.user.cxts\r\n\t    \t}\n\t\t\tif(!$scope.user.name){\n\t\t\t\talert.success(\"\u59d3\u540d\u4e0d\u80fd\u4e3a\u7a7a\");\n\t\t\t\treturn false;\n\t\t\t}else if(!$scope.user.gh){\n\t\t\t\talert.success(\"\u5de5\u53f7\u4e0d\u80fd\u4e3a\u7a7a\");\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\telse if(!$scope.user.dianhua){\n\t\t\t\talert.success(\"\u624b\u673a\u53f7\u4e0d\u80fd\u4e3a\u7a7a\");\n\t\t\t\treturn false;\n\t\t\t}else if(!(/^1[34578]\\d{9}$/.test($scope.user.dianhua))){\n\t\t\t\talert.success(\"\u624b\u673a\u53f7\u683c\u5f0f\u4e0d\u6b63\u786e\");\n\t\t\t\treturn false;\n\t\t\t}else if(!$scope.user.ssgsid){\n\t\t\t\talert.success(\"\u8bf7\u9009\u62e9\u90e8\u95e8\");\n\t\t\t\treturn false;\n\t\t\t}else if(!$scope.user.gwid){\n\t\t\t\talert.success(\"\u8bf7\u9009\u62e9\u5c97\u4f4d\");\n\t\t\t\treturn false;\n\t\t\t}else if(!$scope.user.rzrq){\n\t\t\t\talert.success(\"\u8bf7\u9009\u62e9\u5165\u804c\u65e5\u671f\");\n\t\t\t\treturn false;\n\t\t\t}else if(!$scope.user.csrq){\n\t\t\t\talert.success(\"\u8bf7\u9009\u62e9\u51fa\u751f\u65e5\u671f\");\n\t\t\t\treturn false;\n\t\t\t}else if(!$scope.user.xl){\n\t\t\t\talert.success(\"\u8bf7\u9009\u62e9\u5b66\u5386\");\n\t\t\t\treturn false;\n\t\t\t}else if(!$scope.user.sfzh){\n\t\t\t\talert.success(\"\u8bf7\u8f93\u5165\u8eab\u4efd\u8bc1\u53f7\");\n\t\t\t\treturn false;\n\t\t\t}else if(!(/(^\\d{15}$)|(^\\d{18}$)|(^\\d{17}(\\d|X|x)$)/.test($scope.user.sfzh))){\n\t\t\t\talert.success(\"\u8eab\u4efd\u8bc1\u53f7\u683c\u5f0f\u9519\u8bef\");\n\t\t\t\treturn false;\n\t\t\t}else if(!$scope.user.emai){\n\t\t\t\talert.success(\"\u8bf7\u8f93\u5165\u90ae\u7bb1\");\n\t\t\t\treturn false;\n\t\t\t}else{\n\t\t\t\tvar params = {\r\n\t\t            id:\"\",\r\n\t\t            userpic:$scope.user.picname,\r\n\t\t            ssgsid:$scope.user.ssgsid,\r\n\t\t            gwid:$scope.user.gwid,\r\n\t\t            name:$scope.user.name,\r\n\t\t            phone:$scope.user.dianhua,\r\n\t\t            bm:$scope.user.gh,\r\n\t\t            sex:$scope.user.sex,\r\n\t\t            allowlogin:$scope.user.allowlogin,\r\n\t\t            yxbz:$scope.user.yxbz,\r\n\t\t            iscbjm:$scope.user.iscbjm,\r\n\t\t            flags:flags,\r\n\t\t            rzrq:$scope.user.rzrq,\r\n\t\t            lzrq:\"\",\r\n\t\t\t\t\tsfzh:$scope.user.sfzh,\r\n\t\t            csrq:$scope.user.csrq,\r\n\t\t            xl:$scope.user.xl,\r\n\t\t            emai:$scope.user.emai\r\n\t\t       };\t        \r\n\t\t        api('/x6/saveUserInfo.do', params).onsuccess(function (data) {  \t        \t\r\n\t\t        \tif(data.result==\"ok\"){\r\n\t\t\t\t\t\talert.success(\"\u65b0\u589e\u6210\u529f\");\t\t\t\t\t\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\talert.warn(data.message);\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\t        \t\r\n\t\t        });\n\t\t\t}\t\t\t\t\t\t\r\n\t   \t\t\n\t\t},\n        \"\u5173\u95ed\":function(){\n                    \n        }\n\t}\n    \n}]","template":"<style>.setting-info-staff_add .Scroller-Container > .container:nth-child(odd) {\n  border-top: 1px dashed #e4e4e4;\n}\n.setting-info-staff_add .Scroller-Container > .container {\n  padding: 15px 36px;\n  height: 290px;\n  position: relative;\n}\n.setting-info-staff_add .Scroller-Container > .container > .title {\n  height: 30px;\n  line-height: 30px;\n  font-size: 14px;\n  padding-left: 20px;\n}\n.setting-info-staff_add .Scroller-Container > .container > .title > img {\n  vertical-align: middle;\n  margin-right: 10px;\n}\n.setting-info-staff_add .Scroller-Container > .container > .item > .field.comment {\n  width: 100%;\n  line-height: 30px;\n  padding-top: 10px;\n}\n.setting-info-staff_add .Scroller-Container > .container > .item > .field.comment > span {\n  vertical-align: top;\n}\n.setting-info-staff_add .Scroller-Container > .container > .item > .field.comment .text-input {\n  width: 497px;\n  height: 55px;\n}\n.setting-info-staff_add .Scroller-Container > .container > .item > .field {\n  width: 286px;\n  line-height: 45px;\n  text-align: right;\n  font-size: 12px;\n  height: 45px;\n}\n.setting-info-staff_add .Scroller-Container > .container > .item > .field .icon {\n  border-radius: 20%;\n  margin-left: 10px;\n  margin-right: 155px;\n  width: 40px;\n  height: 40px;\n  position: relative;\n  background-color: #26bf8c;\n}\n.setting-info-staff_add .Scroller-Container > .container > .item > .field .icon > input {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  opacity: 0;\n  border: none;\n  outline: none;\n  display: block;\n}\n.setting-info-staff_add .Scroller-Container > .container > .item > .field > * {\n  text-align: left;\n}\n.setting-info-staff_add .Scroller-Container > .container > .item > .field > .radio {\n  display: inline-block;\n}\n.setting-info-staff_add .Scroller-Container > .container > .item > .select {\n  padding: 10px;\n  margin-left: 45px;\n}\n</style>\r\n<div class=\"container\">\r\n    <div class=\"title\">\r\n        <img src=\"images/gw.png\" />\u5c97\u4f4d\u4fe1\u606f\r\n    </div>\r\n    <div class=\"item\">\r\n    \t<field name=\"\u5934\u50cf:\">        \t\r\n            <div icon=\"user.pic\" class=\"size48\"><input type=\"file\" file-model=\"myFile\" id=\"file-btn\"/></div>            \t\r\n        </field>\r\n        <p></p>\r\n        <field name=\"\u59d3\u540d:\"><text-input placeholder=\"\u8bf7\u8f93\u5165\u59d3\u540d\" ng-model=\"user.name\"></text-input></field>\r\n        <field name=\"\u5de5\u53f7:\"><text-input placeholder=\"\u8bf7\u8f93\u5165\u5de5\u53f7\" ng-model=\"user.gh\"></text-input></field> \r\n        <field name=\"\u624b\u673a:\"><text-input placeholder=\"\u8bf7\u8f93\u5165\u624b\u673a\u53f7\" ng-model=\"user.dianhua\"></text-input></field>\r\n        <field name=\"\u90e8\u95e8:\"><selector empty-label=\"\u8bf7\u9009\u62e9\u90e8\u95e8\" ng-model='user.gs' source='gsname'></selector></field>\r\n        <field name=\"\u5c97\u4f4d:\"><selector empty-label=\"\u8bf7\u9009\u62e9\u5c97\u4f4d\" ng-model='user.gw' source='gwname'></selector></field>      \r\n        <field name=\"\u5728\u804c\u72b6\u6001:\">         \t\r\n        \t <!--<selector ng-model='user.zaizhi' source='zaizhistatus'></selector>-->\r\n        \t <radio ng-model=\"user.zaizhi0\" ng-click=\"choosezaizhi0()\">\u5728\u804c</radio>\r\n        \t <radio ng-model=\"user.zaizhi1\" ng-click=\"choosezaizhi1()\">\u79bb\u804c</radio>\r\n        </field>\r\n        <field name=\"\u5165\u804c\u65e5\u671f:\"><date-input ng-model=\"user.rzrq\"></date-input></field>\r\n        <field name=\"\u5e73\u53f0\u6743\u9650:\">        \t\r\n        \t<selector empty-label=\"\u8bf7\u9009\u62e9\u6743\u9650\" ng-model='user.allow' source='allowname'></selector>\r\n        </field>        \r\n    </div>\r\n</div>\r\n<div class=\"container\">\r\n    <div class=\"title\">\r\n       \t<img src=\"images/geren.png\" />\u4e2a\u4eba\u8d44\u6599\r\n    </div>\r\n    <div class=\"item\">       \r\n        <field name=\"\u6027\u522b:\"><selector empty-label=\"\u8bf7\u9009\u62e9\u6027\u522b\" ng-model='user.sexname' source='sex'></selector></field>\r\n        <field name=\"\u751f\u65e5:\"><date-input ng-model=\"user.csrq\"></date-input></field>\r\n        <field name=\"\u5b66\u5386:\"><selector empty-label=\"\u8bf7\u9009\u62e9\u5b66\u5386\" ng-model='user.xl' source='xlname'></selector></field>\r\n        <field name=\"\u8eab\u4efd\u8bc1:\"><text-input ng-model=\"user.sfzh\" placeholder=\"\u8bf7\u8f93\u5165\u8eab\u4efd\u8bc1\u53f7\"></text-input></field>  \r\n        <field name=\"\u90ae\u7bb1:\"><text-input ng-model=\"user.emai\" placeholder=\"\u8bf7\u8f93\u5165\u90ae\u7bb1\"></text-input></field>\r\n    </div>\r\n</div>\r\n\r\n"}