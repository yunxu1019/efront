{"controller":"[\"$scope\", \"vertify\", function($scope,vertify){\r\n\tvar sign=0;\r\n\t//\r\n\t$scope.yys={\r\n\t\tname:\"\",\r\n\t\tprovince:\"\",\r\n\t\tcity:\"\",\r\n\t\ttown:\"\",\r\n\t\tdz:\"\"\r\n\t}\r\n\t\r\n\t//\u83b7\u53d6\u8eab\u4efd\r\n\tapi(\"/x6/getProvinceList.do\",{})\r\n\t\t\t.onsuccess(function(data){\r\n\t\t\t\tfor(var i=0;i<data.list.length;i++){\r\n\t\t\t\t\tdata.list[i]=data.list[i].province;\r\n\t\t\t\t}\r\n\t\t\t\t$scope.provs=data.list;\r\n\t\t\t\t//console.log($scope.provs)\r\n\t\t\t})\r\n\t//\u83b7\u53d6\u57ce\u5e02\r\n\t$scope.getCityList=function(obj){\r\n\t\tsign++;\r\n\t\tif(sign>1){\r\n\t\t\t$scope.shop.city=\"\";\r\n\t\t\t$scope.shop.town=\"\";\r\n\t\t}\r\n\t\tvar param={\r\n\t\t\tprovince:obj\r\n\t\t}\r\n\t\tapi('/x6/getCityList.do',param)\r\n\t\t\t.onsuccess(function(data){\r\n\t\t\t\tfor(var i=0;i<data.list.length;i++){\r\n\t\t\t\t\tdata.list[i]=data.list[i].city;\r\n\t\t\t\t}\r\n\t\t\t\t$scope.citys=data.list;\r\n\t\t\t})\r\n\t}\r\n\t\r\n\t//\u83b7\u53d6\u53bf\u533a\r\n\r\n\t$scope.getTownList=function(obj,index){\r\n\t\tsign++;\r\n\t\tif(sign>2){\r\n\t\t\t$scope.shop.town=\"\";\r\n\t\t}\r\n\t\t\r\n\t\tvar param={\r\n\t\t\tcity:obj\r\n\t\t}\r\n\t\tapi('/x6/getTownList.do',param)\r\n\t\t\t.onsuccess(function(data){\r\n\t\t\t\tfor(var i=0;i<data.list.length;i++){\r\n\t\t\t\t\tdata.list[i]=data.list[i].town;\r\n\t\t\t\t}\r\n\t\t\t\t$scope.areas=data.list;\r\n\t\t\t})\r\n\t}\r\n\t\r\n\t$scope.$ViewOptions={\r\n\t\t\"\u786e\u8ba4\":function(){\r\n\t\t\t//console.log($scope.yys)\r\n\t\t\tvar required=[\r\n\t\t\t\t{\r\n\t\t\t\t\tname:\"name\",\r\n\t\t\t\t\tmsg:\"\u8fd0\u8425\u5546\u540d\u79f0\u4e0d\u80fd\u4e3a\u7a7a\",\r\n\t\t\t\t\tindex:1\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname:\"province\",\r\n\t\t\t\t\tmsg:\"\u7701\u4efd\u4e0d\u80fd\u4e3a\u7a7a\",\r\n\t\t\t\t\tindex:2,\r\n\t\t\t\t\tposition:top\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname:\"city\",\r\n\t\t\t\t\tmsg:\"\u57ce\u5e02\u4e0d\u80fd\u4e3a\u7a7a\",\r\n\t\t\t\t\tindex:2,\r\n\t\t\t\t\tposition:top\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname:\"town\",\r\n\t\t\t\t\tmsg:\"\u53bf\u533a\u4e0d\u80fd\u4e3a\u7a7a\",\r\n\t\t\t\t\tindex:2,\r\n\t\t\t\t\tposition:top\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname:\"dz\",\r\n\t\t\t\t\tmsg:\"\u8be6\u7ec6\u5730\u5740\u4e0d\u80fd\u4e3a\u7a7a\",\r\n\t\t\t\t\tindex:2\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t\tif(vertify(required,$scope.yys)){\r\n\t\t\t\tconsole.log($scope.yys)\r\n\t\t\t\treturn false;\r\n\t\t\t}else{\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t},\r\n\t\t\"\u53d6\u6d88\":function(){\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\t\r\n//\tfunction createMap(obj,type,pkey,ckey){\r\n//\t\tvar chinaMap={};\r\n//\t\tif(type==\"p\"){\r\n//\t\t\tobj.map(function(i){\r\n//\t\t\t\tchinaMap[i.province]=i.province;\r\n//\t\t\t})\r\n//\t\t\tsessionStorage.setItem(\"chinaMap\",JSON.stringify(chinaMap))\r\n//\t\t\treturn chinaMap;\r\n//\t\t}\r\n//\t\tif(type==\"c\"){\r\n//\t\t\tvar temp=JSON.parse(sessionStorage.getItem(\"chinaMap\"));\r\n//\t\t\ttemp[pkey]={};\r\n//\t\t\tobj.map(function(i){\r\n//\t\t\t\ttemp[pkey][i.city]=i.city;\r\n//\t\t\t})\r\n//\t\t\tsessionStorage.setItem(\"chinaMap\",JSON.stringify(temp));\r\n//\t\t\treturn temp[pkey];\r\n//\t\t}\r\n//\t\tif(type==\"t\"){\r\n//\t\t\tvar temp=JSON.parse(sessionStorage.getItem(\"chinaMap\"));\r\n//\t\t\ttemp[pkey][ckey]={};\r\n//\t\t\tobj.map(function(i){\r\n//\t\t\t\ttemp[pkey][ckey][i.town]=i.town;\r\n//\t\t\t})\r\n//\t\t\tsessionStorage.setItem(\"chinaMap\",JSON.stringify(temp));\r\n//\t\t\treturn temp[pkey][ckey];\r\n//\t\t}\r\n//\t}\r\n}]","template":"<style>.setting-info-operators_addyys .edit-items {\n  width: 80%;\n  margin: 15px auto;\n}\n.setting-info-operators_addyys .edit-items > em {\n  line-height: 30px;\n  width: 70px;\n  text-align: right;\n  display: inline-block;\n  vertical-align: top;\n}\n.setting-info-operators_addyys .edit-items > em:before {\n  content: '*';\n  color: red;\n  line-height: 30px;\n}\n.setting-info-operators_addyys .edit-items > .text-input {\n  height: 30px;\n  margin-left: 2%;\n  width: 77.5%;\n}\n.setting-info-operators_addyys .edit-items > .selector {\n  width: 25%;\n  height: 30px;\n}\n.setting-info-operators_addyys .edit-items > .selector + .text-input {\n  margin-left: 20.5%;\n}\n.setting-info-operators_addyys .edit-items > em + .selector {\n  margin-left: 2%;\n}\n.setting-info-operators_addyys .edit-items:nth-child(2) {\n  margin-top: 35px;\n}\n</style><div class=\"edit-items\">\r\n\t<em>\u8fd0\u8425\u5546\u540d\u79f0</em>\r\n\t<text-input placeholder=\"\u8bf7\u8f93\u5165\u540d\u79f0\" ng-model=\"yys.name\"></text-input>\r\n</div>\r\n<div class=\"edit-items\">\r\n\t<em>\u5730\u5740</em>\r\n\t<selector ng-model='yys.province' source='provs' ng-change=\"getCityList(yys.province)\"></selector>\r\n\t<selector ng-model='yys.city' source=\"citys\"  ng-change=\"getTownList(yys.city)\"></selector>\r\n\t<selector ng-model='yys.town' source='areas' ></selector>\r\n\t<text-input placeholder=\"\u8be6\u7ec6\u5730\u5740\" ng-model=\"yys.dz\"></text-input>\r\n</div>\r\n"}