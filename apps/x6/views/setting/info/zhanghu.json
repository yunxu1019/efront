{"controller":"[\"$scope\", \"views\", \"loading\", function($scope,views,loading){\n    //\u5df2\u542f\u7528/\u672a\u542f\u7528\n    loading.bubble();\n    $scope.qyValue={\n        qy:1,\n        noqy:0\n    }\n    //\u5148\u628a\u5df2\u542f\u7528\u548c\u672a\u542f\u7528\u7684\u8bf7\u6c42\u56de\u6765\n    var qylist;\n    var noqylist;\n    api(\"/x6/getYhzhList.do\",{\n        yxbz:0\n    }).onsuccess(function(data){\n        qylist=data.yhzhList;\n        $scope.zhlist=qylist;\n        api(\"/x6/getYhzhList.do\",{\n            yxbz:1\n        }).onsuccess(function(data){\n            noqylist=data.yhzhList;\n            loading.bubbleEnd(1000);\n        })\n    })\n    //\u70b9\u51fb\u542f\u7528\u6216\u8005\u4e0d\u542f\u7528\n    $scope.isqy=function(){\n        $scope.zhlist=[];\n        if($scope.qyValue.qy&&$scope.qyValue.noqy){\n            $scope.zhlist=$scope.zhlist.concat(qylist,noqylist);\n        }else if($scope.qyValue.qy&&!$scope.qyValue.noqy){\n            $scope.zhlist=qylist;\n        }else if(!$scope.qyValue.qy&&$scope.qyValue.noqy){\n            $scope.zhlist=noqylist;\n        }else{\n            $scope.zhlist=[];\n        }\n    }\n\n\n    //\u83b7\u53d6\u8d26\u6237\u5217\u8868\n    api(\"/x6/getYhzhList.do\",{\n    \tyxbz:0\n    }).onsuccess(function(data){\n\n        for(var i=0;i<data.yhzhList.length;i++){\n            if(!data.yhzhList[i].yxmd){\n                data.yhzhList[i].mdsl=0\n            }else{\n                data.yhzhList[i].mdsl=data.yhzhList[i].yxmd.split(\",\").length\n            }\n        }\n        $scope.zhlist=data.yhzhList;\n        console.log($scope.zhlist)\n    })\n\n    //\u65b0\u589e\n    $scope.add=function(){\n    \tpopup('/setting/info/zhanghu_add',{\n\t            '$ViewTitle':'\u65b0\u589e\u8d26\u6237',\n                data:$scope.zhlist\n\t        },\n        \t{\n        \t\twidth:400,\n        \t\theight:450\n        \t}\n        )\n\t}\n    //\u7f16\u8f91\n    $scope.edit=function(value,key){\n    \tpopup('/setting/info/zhanghu_edit',{\n\t            '$ViewTitle':'\u7f16\u8f91\u8d26\u6237',\n\t            data:value\n\t        },\n        \t{\n        \t\twidth:400,\n        \t\theight:450\n        \t}\n        )\n    }\n    //\u5220\u9664\u5546\u54c1\u5206\u7c7b\n    $scope.delRow=function(){\n        alert(\"\u6d88\u606f\",\"\u786e\u5b9a\u5220\u9664\u5417?\",{\n            '\u786e\u5b9a': function() {\n                var ids=\"\";\n                for(var i=0,len=$scope.checkedRow.length;i<len;i++){\n                    ids+=\",\"+$scope.checkedRow[i].id;\n                }\n                api(\"/x6/deleteYhzhBatch.do\",{\n                    ids:ids.substring(1)\n                }).onsuccess(function(data){\n                    api(\"/x6/getYhzhList.do\",{\n                        yxbz:$scope.yxbz\n                    }).onsuccess(function(data){\n\n                        for(var i=0;i<data.yhzhList.length;i++){\n                            if(!data.yhzhList[i].yxmd){\n                                data.yhzhList[i].mdsl=0\n                            }else{\n                                data.yhzhList[i].mdsl=data.yhzhList[i].yxmd.split(\",\").length\n                            }\n                        }\n                        $scope.zhlist=data.yhzhList;\n                        console.log($scope.zhlist)\n                    })\n                })\n            },\n            '\u53d6\u6d88': function() {}\n        })\n    }\n}]","template":"<style>.setting-info-zhanghu {\n  padding: 0 !important;\n  -webkit-user-select: none;\n}\n.setting-info-zhanghu .operat-bar {\n  width: 200%;\n  height: 50px;\n  background-color: #f8f9fd;\n  position: relative;\n  text-align: right;\n  white-space: nowrap;\n  line-height: 50px;\n  overflow: hidden;\n  border-bottom: 2px solid #4385F3;\n}\n.setting-info-zhanghu .operat-bar > div {\n  width: 50%;\n  height: 100%;\n  padding: 0 10px;\n  float: left;\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n.setting-info-zhanghu .operat-bar > div > .check-div > .checkbox {\n  margin: 0 20px 0 0;\n  float: left;\n  height: 50px;\n}\n.setting-info-zhanghu .operat-bar > div .anniu {\n  margin: 0 0 0 20px ;\n}\n.setting-info-zhanghu .operat-bar > div .message {\n  color: #f06465;\n  position: absolute;\n  top: -15px;\n  right: 160px;\n}\n.setting-info-zhanghu .operat-bar > div:first-child {\n  text-align: left;\n  font-size: 13px;\n}\n.setting-info-zhanghu .operat-bar > div:first-child > em {\n  color: #324057;\n  margin: 0 20px;\n}\n.setting-info-zhanghu .operat-bar > div:first-child > span {\n  color: #324057;\n  display: inline-block;\n  cursor: pointer;\n}\n.setting-info-zhanghu .operat-bar > div:first-child > span > i {\n  margin-right: 9px;\n  color: #8ea4bb;\n  font-size: 20px;\n  vertical-align: middle;\n  float: left;\n}\n.setting-info-zhanghu .operat-bar > div:first-child > span:hover {\n  color: #4385F3;\n}\n.setting-info-zhanghu .operat-bar > div:first-child > span:hover > i {\n  color: #4385F3;\n}\n.setting-info-zhanghu .operat-bar > div:first-child > .long {\n  font-size: 18px;\n  color: #4385F3;\n  margin: 0 5px;\n}\n.setting-info-zhanghu .operat-bar > div:first-child > span:last-child > i {\n  vertical-align: top;\n}\n.setting-info-zhanghu .operat-bar > div:first-child .anniu {\n  float: right;\n  margin-top: 12px;\n}\n.setting-info-zhanghu .operat-bar > div:nth-child(2) {\n  text-align: left;\n  font-size: 13px;\n}\n.setting-info-zhanghu .operat-bar > div:nth-child(2) > em {\n  color: #324057;\n  margin: 0 20px;\n}\n.setting-info-zhanghu .operat-bar > div:nth-child(2) > span {\n  color: #324057;\n  display: inline-block;\n  cursor: pointer;\n}\n.setting-info-zhanghu .operat-bar > div:nth-child(2) > span > i {\n  margin-right: 9px;\n  -webkit-transform: scale(1.2);\n      -ms-transform: scale(1.2);\n          transform: scale(1.2);\n}\n.setting-info-zhanghu .operat-bar > div:nth-child(2) > span:hover {\n  color: #4385F3;\n}\n.setting-info-zhanghu .operat-bar > div:nth-child(2) > .long {\n  font-size: 18px;\n  color: #4385F3;\n  margin: 0 5px;\n}\n.setting-info-zhanghu .operat-bar > div:nth-child(2) > span:last-child > i {\n  vertical-align: top;\n}\n.setting-info-zhanghu .container {\n  top: 57px;\n  bottom: 18px;\n  left: 12px;\n  right: 12px;\n  position: absolute;\n}\n.setting-info-zhanghu .container > .grid {\n  width: 100%;\n  height: 100%;\n}\n</style><div class=\"operat-bar\">\n\t<div class=\"slide-left\" ng-if=\"!checkedRow.length\">\n\t\t<div class=\"check-div\" ng-click=\"isqy()\"><checkbox ng-model=\"qyValue.qy\">\u5df2\u542f\u7528</checkbox></div>\n\t    <div class=\"check-div\" ng-click=\"isqy()\"><checkbox ng-model=\"qyValue.noqy\">\u672a\u542f\u7528</checkbox></div>\n\t    <anniu candidate ng-click=\"add()\">\u65b0\u589e</anniu>\n\t</div>\n\t<div class=\"slide-left\" ng-if=\"checkedRow.length\">\n\t\t\u5df2\u9009\u4e2d<span class=\"long\">{{checkedRow.length}}</span>\u9879<em>|</em>\n\t\t<span ng-click=\"delRow()\"><i class=\"iconfont icon-shanchu1\"></i>\u5220\u9664</span>\n\n\t\t<!--<span ng-click='selectVersion()' class=''><i class='iconfont icon-export'></i><em>\u5bfc\u51fa</em></span>-->\n\t\t<export></export>\n\t</div>\n\t\n</div>\n\n<div class=\"container\">\n    <grid ng-model=\"zhlist\"multi-select=\"true\" onedit=\"edit\" show-filter=\"filter\" checked=\"checkedRow\" class=\"noline\" onedit=\"edit\">\n        <div name='\u5f00\u6237\u8d26\u53f7' field=\"zh\"></div>\n        <div name='\u5f00\u6237\u884c' field=\"khh\"></div>\n        <div name='\u8d26\u6237\u7c7b\u578b' field=\"zhlx\" format=\"translate:{0:'\u5bf9\u516c',1:'\u5bf9\u79c1'}\"></div>\n        <div name='\u542f\u7528\u6807\u5fd7' field=\"yxbz\" format=\"translate:{0:'\u542f\u7528',1:'\u4e0d\u542f\u7528'}\"></div>\n        <div name='\u6253\u6b3e\u95e8\u5e97' field=\"mdsl\"></div>\n\n    </grid>\n</div>"}