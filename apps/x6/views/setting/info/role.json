{"controller":"[\"$scope\", \"tips\", function($scope,tips){\r\n\t//\u83b7\u53d6\u5c97\u4f4d\u5217\u8868\r\n\tapi(\"/x6/loadGwxxList.do\",{}).onsuccess(function(data){\r\n\t\t$scope.gwlist=data.gwxxList;\r\n\t})\r\n\t$scope.qx=[\r\n\t\t{name:\"sas\",lx:1},\r\n\t\t{name:\"sas\",lx:2},\r\n\t\t{name:\"sas\",lx:3}\r\n\t]\r\n\t//\uff0c\u9ed8\u8ba4\u7b2c\u4e00\u9879\u672a\u9009\u4e2d\r\n\t$scope.active=2;\r\n\t//\u9ed8\u8ba4\u83b7\u53d6boss\u6743\u9650\r\n\tapi(\"/x6/loadQxList.do\",{\r\n\t\t\tgwid:1\r\n\t}).onsuccess(function(data){\r\n\t\t//console.log(data.qxlist)\r\n\t\t$scope.kblist=filterQx(data.qxlist,3);\r\n\t\t$scope.czlist=filterQx(data.qxlist,1);\r\n\t\t$scope.bblist=filterQx(data.qxlist,2);\r\n\t\tconsole.log($scope.kblist)\r\n\t})\r\n\t//\u83b7\u53d6\u5c97\u4f4d\u76f8\u5e94\u6743\u9650\r\n\t$scope.getQxInfo=function(id,index){\r\n\t\tif($scope.active==index){\r\n\t\t\treturn ;\r\n\t\t}\r\n\t\tapi(\"/x6/loadQxList.do\",{\r\n\t\t\tgwid:id\r\n\t\t}).onsuccess(function(data){\r\n\t\t\t$scope.kblist=filterQx(data.qxlist,3);\r\n\t\t\t$scope.czlist=filterQx(data.qxlist,1);\r\n\t\t\t$scope.bblist=filterQx(data.qxlist,2);\r\n\t\t})\r\n\t\t//\u9009\u62e9\u5f53\u524d\r\n\t\t$scope.active=index;\r\n\t}\r\n\t\r\n\t//\u4fdd\u5b58\u6743\u9650\r\n\t$scope.saveQx=function(obj){\r\n\t\tvar qx={\r\n\t\t\tqxbz:obj.sqbz?0:1\r\n\t\t}\r\n\t\tvar params={\r\n\t\t\tid:obj.id,\r\n\t\t\tqxid:obj.qxid,\r\n\t\t\tname:obj.name,\r\n\t\t\tgwid:obj.gwid,\r\n\t\t\tlx:obj.lx,\r\n\t\t\tqx:JSON.stringify(qx)\r\n\t\t}\r\n\t\tapi(\"/x6/saveQx.do\",params).onsuccess(function(data){\r\n\t\t\ttips.success(\"\u6388\u6743\u6210\u529f!\")\r\n\t\t\tconsole.log(data)\r\n\t\t})\r\n\t}\r\n\t\r\n\t//\u6743\u9650\u5206\u7c7b\r\n\tfunction filterQx(obj,type){\r\n\t\tvar array=[];\r\n\t\tfor(var i=0;i<obj.length;i++){\r\n\t\t\tif(obj[i].lx==type){\r\n\t\t\t\t//0\u542f\u7528 1\u4e0d\u542f\u7528\r\n\t\t\t\t\r\n\t\t\t\tobj[i].sqbz=JSON.parse(obj[i].qx).qxbz?0:1;\r\n\t\t\t\tarray.push(obj[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn array;\r\n\t}\r\n}]","template":"<style>.setting-info-role {\n  -webkit-user-select: none;\n}\n.setting-info-role .role-container {\n  width: 97%;\n  height: 100%;\n  margin: 0 auto;\n  overflow: hidden;\n}\n.setting-info-role .role-container .role-list {\n  width: 180px;\n  height: 95%;\n  margin-top: 1%;\n  background: #eef1f6;\n  border-radius: 10px ;\n  float: left;\n}\n.setting-info-role .role-container .role-list > p {\n  padding: 5px 0 5px 40%;\n  margin: 20px 0;\n  font-size: 16px;\n  color: #5a6475;\n  cursor: pointer;\n  position: relative;\n}\n.setting-info-role .role-container .role-list > p > i {\n  font-size: 5px;\n  position: absolute;\n  left: 32%;\n  top: 9px;\n}\n.setting-info-role .role-container .role-list > p.selected {\n  color: #f58a43;\n}\n.setting-info-role .role-container .role-list > p:first-child > span {\n  position: relative;\n}\n.setting-info-role .role-container .role-list > p:first-child:hover {\n  background: #c5d5f0;\n}\n.setting-info-role .role-container .role-list > p:first-child ~ p:hover {\n  background: #c5d5f0;\n  color: #4385f5;\n}\n.setting-info-role .role-container .role-desc {\n  width: -webkit-calc(100% - 200px);\n  width: calc(100% - 200px);\n  height: 95%;\n  margin-top: 1%;\n  border-radius: 10px ;\n  background: #eef1f6;\n  float: right;\n}\n.setting-info-role .role-container .role-desc > p:first-child {\n  margin: 0;\n  font-size: 16px;\n  padding: 10px 15px;\n}\n.setting-info-role .role-container .role-desc > div {\n  width: -webkit-calc(100% - 30px);\n  width: calc(100% - 30px);\n  height: -webkit-calc(100% - 41px);\n  height: calc(100% - 41px);\n  margin-left: 15px;\n  position: relative;\n}\n.setting-info-role .role-container .role-desc > div .role-authority {\n  height: 90%;\n  margin-top: 2%;\n  float: left;\n  border-radius: 5px ;\n  background: #fff;\n  margin-bottom: 20px;\n  cursor: pointer;\n}\n.setting-info-role .role-container .role-desc > div .role-authority > p:first-child {\n  margin: 0;\n  padding: 10px 0;\n  width: 100%;\n  font-size: 16px;\n  line-height: 20px;\n  text-align: center;\n  background: #72a2f4;\n  border-top-left-radius: 5px ;\n  border-top-right-radius: 5px ;\n  color: #fff;\n  position: relative;\n}\n.setting-info-role .role-container .role-desc > div .role-authority > p:first-child > span {\n  position: absolute;\n  font-size: 12px;\n  right: 20px;\n  top: 9px;\n}\n.setting-info-role .role-container .role-desc > div .role-authority > p:first-child > span > i {\n  vertical-align: middle;\n  margin-right: 5px;\n}\n.setting-info-role .role-container .role-desc > div .role-authority > .role-item {\n  width: 50%;\n  height: 50px;\n  border-bottom: 1px solid #e0e3e8 ;\n  float: left;\n  overflow: hidden;\n  position: relative;\n}\n.setting-info-role .role-container .role-desc > div .role-authority > .role-item > p {\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  text-align: center;\n  line-height: 50px;\n  font-size: 14px;\n  -webkit-transition: all .2s;\n  transition: all .2s;\n  cursor: pointer;\n}\n.setting-info-role .role-container .role-desc > div .role-authority > .role-item > p > i {\n  vertical-align: middle;\n  color: #f8a973;\n  margin-right: 5px;\n}\n.setting-info-role .role-container .role-desc > div .role-authority > .role-item > div:nth-child(2) {\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  text-align: center;\n  line-height: 50px;\n  font-size: 14px;\n  -webkit-transition: all .2s;\n  transition: all .2s;\n  cursor: pointer;\n  color: #fff;\n  background: -webkit-linear-gradient(bottom, #5e87f1, #88b1f8);\n  background: linear-gradient(to top, #5e87f1, #88b1f8);\n}\n.setting-info-role .role-container .role-desc > div .role-authority > .role-item > div:nth-child(2) > div {\n  display: inline-block;\n}\n.setting-info-role .role-container .role-desc > div .role-authority > .role-item:hover > p,\n.setting-info-role .role-container .role-desc > div .role-authority > .role-item:hover > div:nth-child(2) {\n  -webkit-transform: translateY(-100%);\n      -ms-transform: translateY(-100%);\n          transform: translateY(-100%);\n}\n.setting-info-role .role-container .role-desc > div .role-authority > .role-item .badge {\n  width: 55px;\n  height: 55px;\n  position: absolute;\n  right: 0;\n  top: 0;\n  text-align: center;\n  font-size: 12px;\n  color: #fff;\n  font-weight: bold;\n  background: -webkit-linear-gradient(bottom, #5e87f1, #88b1f8);\n  background: linear-gradient(to top, #5e87f1, #88b1f8);\n  overflow: hidden;\n  padding-top: 40px;\n  -webkit-transform: rotateZ(45deg) translateY(-45px);\n      -ms-transform: rotate(45deg) translateY(-45px);\n          transform: rotateZ(45deg) translateY(-45px);\n}\n.setting-info-role .role-container .role-desc > div .role-authority > .role-item:nth-child(2n) {\n  border-right: 1px solid #e0e3e8 ;\n}\n.setting-info-role .role-container .role-desc > div .role-authority > .role-item:nth-child(2n+1) {\n  margin-left: -1px;\n  border-left: 1px solid #e0e3e8 ;\n}\n@media (min-width: 1500px) {\n  .setting-info-role .role-container .role-desc > div .role-authority:nth-child(2) {\n    -webkit-transform: translateX(106%);\n        -ms-transform: translateX(106%);\n            transform: translateX(106%);\n  }\n  .setting-info-role .role-container .role-desc > div .role-authority:nth-child(3) {\n    -webkit-transform: translateX(-106%);\n        -ms-transform: translateX(-106%);\n            transform: translateX(-106%);\n  }\n}\n@media (max-width: 1500px) and (min-width: 1201px) {\n  .setting-info-role .role-container .role-desc > div .role-authority {\n    width: 35%;\n    position: absolute;\n    box-shadow: 0 0 5px #ccc;\n    -webkit-transition: all .2s;\n    transition: all .2s;\n  }\n  .setting-info-role .role-container .role-desc > div .role-authority:nth-child(1) {\n    left: 50%;\n    -webkit-transform: translateX(-100%) rotateZ(-5deg);\n        -ms-transform: translateX(-100%) rotate(-5deg);\n            transform: translateX(-100%) rotateZ(-5deg);\n    -webkit-transform-origin: 60% bottom;\n        -ms-transform-origin: 60% bottom;\n            transform-origin: 60% bottom;\n    -webkit-filter: blur(10px);\n  }\n  .setting-info-role .role-container .role-desc > div .role-authority:nth-child(1):hover {\n    -webkit-filter: blur(0);\n    -webkit-transform: translateX(-100%) rotateZ(0deg);\n        -ms-transform: translateX(-100%) rotate(0deg);\n            transform: translateX(-100%) rotateZ(0deg);\n    z-index: 99;\n  }\n  .setting-info-role .role-container .role-desc > div .role-authority:nth-child(1):hover + div {\n    -webkit-filter: blur(10px);\n  }\n  .setting-info-role .role-container .role-desc > div .role-authority:nth-child(1):hover + div + div {\n    -webkit-filter: blur(10px);\n  }\n  .setting-info-role .role-container .role-desc > div .role-authority:nth-child(3) {\n    left: 50%;\n    -webkit-transform: translateX(-50%);\n        -ms-transform: translateX(-50%);\n            transform: translateX(-50%);\n    z-index: 9;\n  }\n  .setting-info-role .role-container .role-desc > div .role-authority:nth-child(2) {\n    left: 50%;\n    -webkit-transform: rotateZ(5deg);\n        -ms-transform: rotate(5deg);\n            transform: rotateZ(5deg);\n    -webkit-transform-origin: 40% bottom;\n        -ms-transform-origin: 40% bottom;\n            transform-origin: 40% bottom;\n    -webkit-filter: blur(10px);\n  }\n  .setting-info-role .role-container .role-desc > div .role-authority:nth-child(2):hover {\n    -webkit-filter: blur(0);\n    -webkit-transform: rotateZ(0deg);\n        -ms-transform: rotate(0deg);\n            transform: rotateZ(0deg);\n    z-index: 99;\n  }\n  .setting-info-role .role-container .role-desc > div .role-authority:nth-child(2):hover + div {\n    -webkit-filter: blur(10px);\n  }\n}\n@media (min-width: 1501px) {\n  .setting-info-role .role-container .role-desc > div .role-authority {\n    width: 32%;\n    margin-left: 2%;\n  }\n  .setting-info-role .role-container .role-desc > div .role-authority:nth-child(3n+1) {\n    margin-left: 0;\n  }\n}\n@media (max-width: 1200px) {\n  .setting-info-role .role-container .role-desc {\n    height: 100%;\n    -webkit-perspective: 600px;\n            perspective: 600px;\n  }\n  .setting-info-role .role-container .role-desc .role-authority {\n    width: 40%;\n    min-width: 300px;\n    position: absolute;\n    box-shadow: 0 0 5px #ccc;\n    -webkit-transition: all 0.2s;\n    transition: all 0.2s;\n  }\n  .setting-info-role .role-container .role-desc .role-authority:nth-child(1) {\n    left: 10%;\n    -webkit-transform: rotateY(40deg);\n            transform: rotateY(40deg);\n    -webkit-transform-origin: left 50%;\n        -ms-transform-origin: left 50%;\n            transform-origin: left 50%;\n    -webkit-filter: blur(10px);\n  }\n  .setting-info-role .role-container .role-desc .role-authority:nth-child(1):hover {\n    -webkit-filter: blur(0);\n    -webkit-transform: rotateY(0deg);\n            transform: rotateY(0deg);\n    z-index: 99;\n  }\n  .setting-info-role .role-container .role-desc .role-authority:nth-child(1):hover + div {\n    -webkit-filter: blur(10px);\n  }\n  .setting-info-role .role-container .role-desc .role-authority:nth-child(1):hover + div + div {\n    -webkit-filter: blur(10px);\n  }\n  .setting-info-role .role-container .role-desc .role-authority:nth-child(3) {\n    left: 50%;\n    -webkit-transform: translateX(-50%);\n        -ms-transform: translateX(-50%);\n            transform: translateX(-50%);\n    z-index: 9;\n  }\n  .setting-info-role .role-container .role-desc .role-authority:nth-child(2) {\n    right: 10%;\n    -webkit-transform: rotateY(-40deg);\n            transform: rotateY(-40deg);\n    -webkit-transform-origin: right 50%;\n        -ms-transform-origin: right 50%;\n            transform-origin: right 50%;\n    -webkit-filter: blur(10px);\n  }\n  .setting-info-role .role-container .role-desc .role-authority:nth-child(2):hover {\n    -webkit-filter: blur(0);\n    -webkit-transform: rotateY(0deg);\n            transform: rotateY(0deg);\n    z-index: 99;\n  }\n  .setting-info-role .role-container .role-desc .role-authority:nth-child(2):hover + div {\n    -webkit-filter: blur(10px);\n  }\n}\n</style><div class=\"role-container\">\r\n\t<div class=\"role-list\">\r\n\t\t<p ng-repeat=\"role in gwlist\" ng-click=\"getQxInfo(role.id,$index)\"  ng-class=\"{'selected':active==$index}\"><i class=\"iconfont icon-xingxing\" ng-if=\"active==$index\"></i><span ng-bind=\"role.name\"></span></p>\r\n\t</div>\r\n\t<div class=\"role-desc\">\r\n\t\t<p>\u8d22\u52a1\u529f\u80fd\u5c55\u793a</p>\r\n\t\t<div>\r\n\t\t\t<div class=\"role-authority\">\r\n\t\t\t\t<p>\u6211\u7684\u770b\u677f<span ng-init=\"kball=true\" ng-click=\"kball=!kball;\"><i class=\"iconfont\" ng-class=\"{false:'icon-shouquanicon',true:'icon-caidan'}[kball]\"></i>{{kball?\"\u5168\u90e8\":\"\u5df2\u6388\u6743\"}}</span></p>\r\n\t\t\t\t<div class=\"role-item\" ng-repeat=\"role in kblist\" ng-if=\"role.sqbz==!kball||kball\">\r\n\t\t\t\t\t<p><i class=\"iconfont icon-shouquanicon\" ng-if=\"role.sqbz\"></i>{{role.name}}</p>\r\n\t\t\t\t\t<div><div ng-click=\"saveQx(role)\"><checkbox ng-model=\"role.sqbz\"></checkbox></div>\u6388\u6743</div>\r\n\t\t\t\t\t<div class=\"badge\" ng-if=\"role.isNew\">NEW</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"role-item\" ng-if=\"kblist.length%2!=0\"></div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"role-authority\">\r\n\t\t\t\t<p>\u6211\u7684\u62a5\u8868<span ng-init=\"bball=true\" ng-click=\"bball=!bball;\"><i class=\"iconfont\" ng-class=\"{false:'icon-shouquanicon',true:'icon-caidan'}[bball]\"></i>{{bball?\"\u5168\u90e8\":\"\u5df2\u6388\u6743\"}}</span></p>\r\n\t\t\t\t<div class=\"role-item\" ng-repeat=\"role in bblist\" ng-if=\"role.sqbz==!bball||bball\">\r\n\t\t\t\t\t<p><i class=\"iconfont icon-shouquanicon\" ng-if=\"role.sqbz\"></i>{{role.name}}</p>\r\n\t\t\t\t\t<div><div  ng-click=\"saveQx(role)\"><checkbox ng-model=\"role.sqbz\"></checkbox></div>\u6388\u6743</div>\r\n\t\t\t\t\t<div class=\"badge\" ng-if=\"role.isNew\">NEW</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"role-item\" ng-if=\"bblist.length%2!=0\"></div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"role-authority\">\r\n\t\t\t\t<p>\u6211\u7684\u64cd\u4f5c<span ng-init=\"czall=true\" ng-click=\"czall=!czall;\"><i class=\"iconfont\" ng-class=\"{false:'icon-shouquanicon',true:'icon-caidan'}[czall]\"></i>{{czall?\"\u5168\u90e8\":\"\u5df2\u6388\u6743\"}}</span></p>\r\n\t\t\t\t<div class=\"role-item\" ng-repeat=\"role in czlist\" ng-if=\"role.sqbz==!czall||czall\">\r\n\t\t\t\t\t<p><i class=\"iconfont icon-shouquanicon\" ng-if=\"role.sqbz\"></i>{{role.name}}</p>\r\n\t\t\t\t\t<div><div  ng-click=\"saveQx(role)\"><checkbox ng-model=\"role.sqbz\"></checkbox></div>\u6388\u6743</div>\r\n\t\t\t\t\t<div class=\"badge\" ng-if=\"role.isNew\">NEW</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"role-item\" ng-if=\"czlist.length%2!=0\"></div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>"}