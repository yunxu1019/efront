{"controller":" [\"$scope\", \"api\", \"popup\", function ($scope, api, popup) {\n    //\u52a0\u8f7d\u7cfb\u7edf\u53c2\u6570\u5217\u8868\n    var refresh = function () {\n        api(\"/x6/getAllXtcs.do\").success(function (result) {\n            $scope.xtcsList = result.xtcsList;\n            result.xtcsList.forEach(function (cs) {\n                angular.extend(cs, getYN(cs));\n                console.log(cs);\n            });\n        });\n    };\n    refresh();\n    $scope.onedit = function ($) {\n        var close = popup(\"setting/info/xitong_edit\", {\n            xtcs: $\n        }, {\n            width: 800,\n            height: 226\n        }).onclose(function () {\n            refresh();\n        });\n    };\n    $scope.data = [\n        {\n            isNew: true,\n            name: '\u53c2\u65701',\n            value: false,\n            disp: '\u8fd9\u662f\u4e00\u4e2a\u6d4b\u8bd5\u53c2\u6570'\n        }\n    ];\n    for (var cx = 0, dx = 10; cx < dx; cx++) {\n        $scope.data.push({\n            isNew: true,\n            name: '\u53c2\u65701',\n            value: false,\n            disp: '\u8fd9\u662f\u4e00\u4e2a\u6d4b\u8bd5\u53c2\u6570'\n        });\n    }\n    ;\n    for (var cx = 0, dx = 100 * Math.random(); cx < dx; cx++) {\n        $scope.data.push({\n            isNew: true,\n            name: '\u53c2\u65701',\n            value: Math.random() > .5 ? Math.random() < .8 : Math.random() * 100,\n            disp: '\u8fd9\u662f\u4e00\u4e2a\u6d4b\u8bd5\u53c2\u6570'\n        });\n    }\n    var getYN = function ($) {\n        var obj = null;\n        $.comments.replace(/[YNF\uff39\uff2e\uff26]\\s*[:\uff1a]?\\s*[^YNF\uff39\uff2e\uff26]+/g, function (match) {\n            if(!obj){\n                obj={isYNF:true};\n            }\n            var k = match[0];\n            var v = match.slice(1).replace(/^[:\uff1a]+/g, \"\");\n            obj[k]=v;\n        });\n        return obj;\n    };\n    $scope.comments_template = function () {\n        var a = [\n            \"<span ng-if=!getYN($) ng-if=!$.isYNF ng-bind=$.comments></span>\",\n            \"<span ng-if=$.isYNF >\",\n            \"<span ng-if=$.Y ><span style='color:#4387ff'>Y</span>:<span ng-bind=getYN($)[0]></span></span>\",\n            \"<span ng-if=$.N ><span style='color:#df6d6d'>N</span>:<span ng-bind=getYN($)[1]></span></span>\",\n            \"<span ng-if=$.F ><span style='color:green'>F</span>:<span ng-bind=getYN($)[2]></span></span>\",\n            \"</span>\"\n        ].join(\"\");\n        return a;\n    }();\n}]","template":"<style>.setting-info-xitong .grid {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 10px;\n  right: 10px;\n  height: auto;\n  width: auto;\n  -webkit-transition: top 0.1s ease-out;\n  transition: top 0.1s ease-out;\n}\n</style><grid ng-model=\"xtcsList\" show-index onedit=\"onedit\" class=\"no-line\">\n    <div name=\"\u53c2\u6570\u540d\u79f0\" field=\"name\"></div>\n    <div name=\"\u53c2\u6570\u503c\" field=\"value\"></div>\n    <div name=\"\u5907\u6ce8\" field=\"comments\" align=\"left\" template=\"comments_template\"></div>\n</grid>"}