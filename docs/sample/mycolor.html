<html>
<head>
<script type="text/javascript">
var timer=document.getElementById("timer");
function getHexNum(hex){
	var c=hex.charCodeAt(0);
	if(c<="z".charCodeAt(0) && c>="a".charCodeAt(0)){
		return c-"a".charCodeAt(0)+10;
	}else if(c>="A".charCodeAt(0)&&c<="Z".charCodeAt(0)){
		return c-"A".charCodeAt(0)+10;
	}else{
		return Number(hex);
	}
}
function getNumHex(num){
	var hex="";
	var rem=0;
	while(num>0){
		rem=num%16;
		if (rem>=10){
			hex=String.fromCharCode(rem-10+"A".charCodeAt(0))+hex;
		}else{
			hex=String.fromCharCode(rem+"0".charCodeAt(0))+hex;
		}
		num=(num-rem)/16;
	}
	if(hex.length==1){
		hex="0"+hex;
	}else if(hex.length==0){
		hex="00";
	}
	return hex;
}


function rotate_rgb(RGB,theta){
	var r=RGB[0];
	var g=RGB[1];
	var b=RGB[2];
	var u=Math.sqrt(3)/3;
	var pu=1/3;
	cosa = Math.cos(theta);
	sina = Math.sin(theta);
	vera = 1 - cosa;
	red	=Math.round((cosa+pu*vera)*r	+	(pu*vera-u*sina)*g	+	(pu*vera+u*sina)*b);
	green	=Math.round((pu*vera+u*sina)*r	+	(cosa+pu*vera)*g	+	(pu*vera-u*sina)*b);
	blue	=Math.round((pu*vera-u*sina)*r	+	(pu*vera+u*sina)*g	+	(cosa+pu*vera)*b);
	return new Array(red,green,blue);
}
function change1(){
	var obj=document.getElementById("c1");
	var tmpcolor=obj.style.backgroundColor;
	var tmpA= tmpcolor.substring(4,tmpcolor.length-1).split(", ");
	tmpA=rotate_rgb(tmpA,0.1);
	var c1=getNumHex(tmpA[0]);
	var c2=getNumHex(tmpA[1]);
	var c3=getNumHex(tmpA[2]);
	obj.style.backgroundColor="#"+c1+c2+c3;
}
var thread1=setInterval("change1()",80);
function stop1(){
	clearInterval(thread1);
}
function start1(){
	thread1=setInterval("change1()",80);
}

function change2(){
	var obj2=document.getElementById("c2");
	var tmpcolor=obj2.style.backgroundColor;
	var tmpA= tmpcolor.substring(4,tmpcolor.length-1).split(", ");
	tmpA=rotate_rgb(tmpA,Math.random()*0.3+0.5);
	var c1=getNumHex(tmpA[0]);
	var c2=getNumHex(tmpA[1]);
	var c3=getNumHex(tmpA[2]);
	obj2.style.backgroundColor="#"+c1+c2+c3;
}
var thread2=setInterval("change2()",300);
function stop2(){
	clearInterval(thread2);
}
function start2(){
	thread2=setInterval("change2()",300);
}

function change3(){
	var obj3=document.getElementById("c3");
	var tmpcolor=obj3.style.backgroundColor;
	var tmpA= tmpcolor.substring(4,tmpcolor.length-1).split(", ");
	tmpA=rotate_rgb(tmpA,Math.PI);
	var c1=getNumHex(tmpA[0]);
	var c2=getNumHex(tmpA[1]);
	var c3=getNumHex(tmpA[2]);
	obj3.style.backgroundColor="#"+c1+c2+c3;
}
var thread3=setInterval("change3()",500);
function stop3(){
	clearInterval(thread3);
}
function start3(){
	thread3=setInterval("change3()",500);
}

</script>
</head>
<body >
<div id="c1" style="left:2%;right:68%;top:30%;bottom:30%;position:fixed;background-color:#c00;" onmouseover="stop1()" onmouseout="start1()">
</div>
<div id="c2" style="left:35%;right:35%;bottom:30%;top:30%;position:fixed;background-color:#c00;" onmouseover="stop2()" onmouseout="start2()">
</div>
<div id="c3" style="left:68%;right:2%;bottom:30%;top:30%;position:fixed;background-color:#c00;" onmouseover="stop3()" onmouseout="start3()">
</div>
<br>
</body>

</html>
